---
dependency:
  name: galaxy
driver:
  name: docker
lint:
  name: yamllint
platforms:
  - name: molecule-gocd-server
    image: solita/ubuntu-systemd
    privileged: True
    required: True
    exposed_ports:
      - "80:80"
      - "8088:8080"
    volumes:
      - "/sys/fs/cgroup:/sys/fs/cgroup:ro"
    command: /lib/systemd/systemd
    groups:
      - gocd-server
    dns_servers:
      - 10.36.11.238
  - name: molecule-gocd-agent
    image: solita/ubuntu-systemd
    privileged: True
    required: True
    volumes:
      - "/sys/fs/cgroup:/sys/fs/cgroup:ro"
    command: /lib/systemd/systemd
    groups:
      - gocd-agents
    dns_servers:
      - 10.36.11.238
    links:
      - molecule-gocd-server:gocd-server
provisioner:
  name: ansible
  lint:
    name: ansible-lint
scenario:
  name: default
verifier:
  name: testinfra
  lint:
    name: flake8
